Happy Path (основной успешный сценарий)

1.  Пользователь нажимает кнопку "Создать новый план питания".
       -Система перенаправляет его на многошаговую форму.
2.  Пользователь выбирает цель (например, похудение), указывает текущий вес и нажимает "Далее".
       -Система проверяет данные и отображает следующую форму.
3.  Пользователь указывает диетические ограничения, аллергии и продукты для исключения, затем нажимает "Далее".
       -Система сохраняет введенные данные и отображаетследующую форму.
4.  Пользователь указывает желаемый бюджет и нажимает кнопку "Сгенерировать план".
       -Система отправляет собранные данные в LLM-движок.
5.  LLM-движок анализирует входные данные и генерирует персонализированный план питания на 7 дней.
6.  Система получает ответ от LLM, парсит его и структурирует в удобный формат (разбивает по дням и приемам пищи, выделяет рецепты и расчет БЖУ).
7.  На основе структурированного плана система автоматически генерирует оптимизированный список покупок и рассчитывает итоговую стоимость.
8.  Пользователю отображается готовый план с возможностью навигации по дням и кнопкой для просмотра списка покупок.
9.  Пользователь нажимает кнопку "Сохранить план".
       -Система сохраняет весь план в базу данных и привязывает его к аккаунту пользователя.

Ценность: Значительная экономия времени за счёт полной автоматизации планирования, достижение личных целей благодаря персонализированному подходу. Дополнительным ключевым преимуществом является экономия денег, достигаемая за счёт оптимизации бюджета и учёта уже имеющихся продуктов.

Alternative Flows (альтернативные сценарии)

A. Нет подключения к интернету
1.	На шаге отправки запроса к LLM система фиксирует отсутствие соединения.
2.	Пользователю мгновенно отображается уведомление: "Отсутствует подключение к интернету. Невозможно сгенерировать план. Пожалуйста, проверьте соединение и попробуйте снова".
3.	При нажатии кнопки "Попробовать снова" система повторно проверяет подключение к сети.
4.	При этом пользователь сохраняет возможность просматривать ранее сохраненные планы питания.
   
Ценность: Повышение отказоустойчивости системы и улучшение пользовательского опыта. При потере соединения на этапе запроса к LLM интерфейс не зависает, а предоставляет четкий статус ошибки и возможность повтора действия после восстановления связи. Это помогает не отталкивать пользователя от нашей системы и сохраняет базовый функционал (просмотр сохранённых планов) в офлайн-режиме.

B. Пользователь возвращается к редактированию предыдущего шага
1.	На шагах 2-3 пользователь обнаруживает ошибку в вводе данных на предыдущем шаге.
2.	Пользователь нажимает кнопку "Назад" в интерфейсе системы.
3.	Система возвращает пользователя на предыдущий шаг формы с сохраненными введенными данными.
4.	Пользователь вносит необходимые изменения и продолжает работу по основному сценарию.
   
Ценность: Пользователь может легко исправить ошибку, не начиная весь процесс заново. Это экономит время, снижает раздражение и делает работу с приложением более комфортной и эффективной.

Error Handling (обработка ошибок)

E1. Технический сбой/недоступность LLM API
1.	Запрос к LLM-движку возвращает ошибку или таймаут.
2.	Система логирует ошибку для последующего анализа.
3.	Система отображает уведомление: "Сервис временно недоступен. Пожалуйста, попробуйте создать план через несколько минут."
4.	Предлагается кнопка "Вернуться на главную".
   
Ценность: Корректное информирование пользователя о проблеме на стороне системы, сохранение доверия к сервису.

E2. Некорректный или противоречивый ввод пользователя
1. Пример: Пользователь на шаге Цели указывает вес 400 кг при выбранной цели "Снижение веса".  
2. Система проводит валидацию данных перед отправкой на бэкенд и определяет, что указанное значение превышает разумные пределы.  
3. Система блокирует отправку запроса и отображает сообщение:"Указанный вес превышает допустимые значения. Пожалуйста, введите корректное значение"  
4. Пользователь не может перейти к следующему шагу, пока не исправит ввод.
   
Ценность: Реализованный механизм предотвращает отправку некорректных запросов к AI, что позволяет экономить вычислительные ресурсы системы. Кроме того, он обеспечивает получение пользователем более точных рекомендаций и улучшает общий опыт взаимодействия с приложением за счет мгновенной обратной связи.

E3. Превышение лимитов запросов к API базы данных продуктов 
1.	При попытке получить расчёт калорийности и БЖУ от внешнего API система сталкивается с ошибкой.
2.	LLM-движок возвращает план питания системе, но без детальной информации о калорийности и БЖУ(только названия блюд и рецепты).
3.	Система логирует инцидент и отправляет уведомление разработчикам.
4.	Система отображает план пользователю с уведомлением: "Не удалось получить данные о пищевой ценности. Попробуйте составить план заново" и показывает кнопку "Создать новый план""

Ценность: Система не отображает пользователю неполноценный план, что предотвращает путаницу и недовольство. Четкое сообщение об ошибке и возможность быстрого повторного запроса улучшают пользовательский опыт.

Use-case UML диаграммы
<img width="979" height="752" alt="image" src="https://github.com/user-attachments/assets/57cea0aa-49de-4f99-bcd4-40895e7f8d68" />


Happy path:
<img width="2012" height="144" alt="mermaid-drawing (1)" src="https://github.com/user-attachments/assets/17bebd17-e98f-4145-bb3f-2a9d4eb2cb99" />
